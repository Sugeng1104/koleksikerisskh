<!DOCTYPE html>
<html>
<head>
<title>Dashboard Admin</title>
<style>
body{
  margin:0;
  background:linear-gradient(to right,black,#001f1f);
  color:#00ffcc;
  font-family:Arial;
}
.sidebar{
  width:220px;
  height:100vh;
  background:black;
  position:fixed;
  padding:20px;
}
.sidebar button{
  width:100%;
  padding:10px;
  margin-top:10px;
  background:#00ffcc;
  border:none;
  cursor:pointer;
}
.content{
  margin-left:240px;
  padding:30px;
}
.card{
  background:#111;
  padding:20px;
  border-radius:10px;
  margin-bottom:20px;
}
input,select{
  padding:8px;
}
button.tambah{
  background:#00cc66;
  color:white;
  border:none;
  padding:8px 12px;
}
button.hapus{
  background:red;
  color:white;
  border:none;
  padding:6px 10px;
}
</style>
</head>
<body>

<div class="sidebar">
  <h2>ADMIN</h2>
  <p id="userInfo"></p>
  <p id="roleInfo"></p>

  <button onclick="window.location.href='index.html'">Halaman Depan</button>

  <button id="menuKelola" style="display:none;"
          onclick="window.location.href='kelola-akun.html'">
    Kelola Akun
  </button>

  <button onclick="logout()">Logout</button>
</div>

<div class="content">
  <h1>Dashboard Admin</h1>

  <div class="card">
    <h2>Struktur Pengurus</h2>
    <input type="text" id="namaPengurus" placeholder="Nama Pengurus">
    <select id="jabatan">
      <option>Ketua</option>
      <option>Sekertaris</option>
      <option>Bendahara</option>
      <option>Korektor Pusaka</option>
    </select>
    <button class="tambah" onclick="tambahPengurus()">Tambah</button>
    <ul id="listPengurus"></ul>
  </div>

</div>

<script>
if(localStorage.getItem("isLoggedIn")!=="true"){
  window.location.href="login.html";
}

const username=localStorage.getItem("username");
const role=localStorage.getItem("role");

document.getElementById("userInfo").innerText="User: "+username;
document.getElementById("roleInfo").innerText="Role: "+role;

if(role==="Super Admin"){
  document.getElementById("menuKelola").style.display="block";
}

function logout(){
  localStorage.clear();
  window.location.href="login.html";
}

let pengurus=JSON.parse(localStorage.getItem("pengurus"))||[];

function tampilPengurus(){
  const list=document.getElementById("listPengurus");
  list.innerHTML="";
  pengurus.forEach((p,i)=>{
    list.innerHTML+=`
      <li>
        ${p.nama} - ${p.jabatan}
        <button class="hapus" onclick="hapusPengurus(${i})">Hapus</button>
      </li>
    `;
  });
}

function tambahPengurus(){
  const nama=document.getElementById("namaPengurus").value;
  const jabatan=document.getElementById("jabatan").value;
  if(nama==="") return alert("Isi nama!");

  pengurus.push({nama,jabatan});
  localStorage.setItem("pengurus",JSON.stringify(pengurus));
  tampilPengurus();
}

function hapusPengurus(i){
  pengurus.splice(i,1);
  localStorage.setItem("pengurus",JSON.stringify(pengurus));
  tampilPengurus();
}

tampilPengurus();
</script>

</body>
</html>
