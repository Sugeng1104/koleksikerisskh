<!DOCTYPE html>
<html>
<head>
<title>Login SKH</title>
<meta charset="UTF-8">
<style>
body{
  background:black;
  color:#00ffcc;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial;
}
.login-box{
  background:#111;
  padding:30px;
  border-radius:10px;
  width:320px;
}
input{
  width:100%;
  padding:10px;
  margin:10px 0;
  background:#222;
  border:1px solid #00ffcc;
  color:white;
}
button{
  width:100%;
  padding:10px;
  background:#00ffcc;
  border:none;
  cursor:pointer;
  font-weight:bold;
}
</style>
</head>
<body>

<div class="login-box">
<h2>Login Panel SKH</h2>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
<div id="msg" style="margin-top:10px;color:red;"></div>
</div>

<script>

const WEB_APP_URL="PASTE_URL_BARU_DISINI";

async function login(){

const username=document.getElementById("username").value.trim();
const password=document.getElementById("password").value.trim();
const msg=document.getElementById("msg");

if(!username||!password){
msg.innerText="Isi semua field.";
return;
}

const res=await fetch(WEB_APP_URL,{
method:"POST",
body:new URLSearchParams({
action:"login",
username:username,
password:password
})
});

const result=await res.json();

if(result.status==="success"){

sessionStorage.setItem("isLoggedIn","true");
sessionStorage.setItem("username",username);
sessionStorage.setItem("role",result.role);

if(result.role==="Super Admin"||result.role==="Admin"){
window.location.replace("admin.html");
}else{
window.location.replace(
"https://sugeng1104.github.io/koleksikerisskh/anggota/dashboard-daftar-anggota.html"
);
}

}else{
msg.innerText="Login gagal! Username atau Password salah.";
}

}

</script>

</body>
</html>
